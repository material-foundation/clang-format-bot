language: objective-c
sudo: false
env:
  global:
  - LC_CTYPE=en_US.UTF-8
  - LANG=en_US.UTF-8
  matrix:
  - secure: r7O1Pb++EEpZwysG7JlrAk+1o+wacAnqpf2zU8d1HeJrhVqWJuKgyG+3oyiG2Fh52oD+xxH/a7R4pRJvDzCHTXuBNkmuBjwnUR6GCT5IcpBzoUSym6/ZiSbpkO3BKDPwgxBwnr4JWDVNbk20NPman1X0ycMx2SZ8ihljdqdQeN2d+bHXgavMGUb3JfiyOcIIcKPHYgKZXVE7+nh/65P5sD00kfcjwZuUOVh9TYu3bAktWt893HBWvhlN8zWK0ILMUw7+xRbmC2mqwfnMl9tVoNOrs5qX+SLfQvpb8OfFDsgbXqe4GnTk9eqBkTEsUy2fAZBJekrVCHFLf2oWfSy0t8prbrQsUrdXhrmLhd7ACUoEF2zFk5gmdXU/tO42BNTVxKm4E0ias70KMpjDcMSoS6B38qwMnnK2Grk59afjKo1wzbJ/KX7rKRhTm/IMTv51X82tXJRnxicmdvvxktfJeCEssx3U7QLSpgICUZHIRCZh7ZOpvhrwAPetOTglIaxeb4kN1FvgXjzjeE/bQOO+in3Undj0m8HhcI78/wL34+a50KVAJ54fj4rNlALFm6Ft/kwlQYFo7wE4Hh7AniB8Fp/g8/yDIowh+Xex7RR/zchecdn4Azm0HYdqkzRtXorSWk4RMIUzYC6ulW4htSEaXChXPua2lEESZ5RvAtuSdNs=
matrix:
  include:
  - osx_image: xcode10
before_install:
  - brew install clang-format
  - mkdir bin
  - curl -Ls "https://raw.githubusercontent.com/llvm-mirror/clang/c510fac5695e904b43d5bf0feee31cc9550f110e/tools/clang-format/git-clang-format" -o "bin/git-clang-format"
  - chmod +x bin/git-clang-format
  - export PATH="$(pwd)/bin:$PATH"
script:
  - if [ -n "$TRAVIS_PULL_REQUEST_SLUG" ]; then ./check-pull-request.sh --api_token "$GITHUB_TOKEN" --repo "$TRAVIS_PULL_REQUEST_SLUG" --pr "$TRAVIS_PULL_REQUEST" --commit "$TRAVIS_PULL_REQUEST_SHA" --target_branch "$TRAVIS_BRANCH"; fi
